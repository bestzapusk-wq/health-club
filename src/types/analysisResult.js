/**
 * –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –∞–Ω–∞–ª–∏–∑–∞ –æ—Ç AI
 * –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è:
 * 1. –ü—Ä–æ–º–ø—Ç–∞ –∫ Claude (—É–∫–∞–∑–∞—Ç—å —Ñ–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞)
 * 2. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ Supabase (analysis_results.result_data)
 * 3. –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ MyReportPage
 */

export const ANALYSIS_RESULT_SCHEMA = {
  // –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –ø–æ–∫–∞–∑–∞—Ç–µ–ª—è–º
  stats: {
    critical: 0,      // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π
    warning: 0,       // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç—Ä–µ–±—É—é—â–∏—Ö –≤–Ω–∏–º–∞–Ω–∏—è
    normal: 0         // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤ –Ω–æ—Ä–º–µ
  },

  // –ö—Ä–∞—Ç–∫–æ–µ —Ä–µ–∑—é–º–µ (1-2 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è)
  summary: "–û—Å–Ω–æ–≤–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞ ‚Äî ..., –∫–æ—Ç–æ—Ä–∞—è –≤—ã–∑—ã–≤–∞–µ—Ç...",

  // 3 –≥–ª–∞–≤–Ω—ã–µ –Ω–∞—Ö–æ–¥–∫–∏ (—Å–∞–º–æ–µ –≤–∞–∂–Ω–æ–µ)
  mainFindings: [
    {
      num: 1,
      title: "–ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã",
      status: "critical", // "critical" | "warning"
      description: "–ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ –µ—ë –≤–ª–∏—è–Ω–∏—è",
      symptoms: ["–°–∏–º–ø—Ç–æ–º 1", "–°–∏–º–ø—Ç–æ–º 2"] // –°–≤—è–∑—å —Å –æ–ø—Ä–æ—Å–Ω–∏–∫–æ–º
    }
  ],

  // –¶–µ–ø–æ—á–∫–∞ –ø—Ä–∏—á–∏–Ω–Ω–æ-—Å–ª–µ–¥—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Å–≤—è–∑–µ–π
  connectionChain: [
    { text: "–ü–µ—Ä–≤–æ–ø—Ä–∏—á–∏–Ω–∞", type: "critical" },
    { text: "–°–ª–µ–¥—Å—Ç–≤–∏–µ 1", type: "warning" },
    { items: ["–°–ª–µ–¥—Å—Ç–≤–∏–µ 2a", "–°–ª–µ–¥—Å—Ç–≤–∏–µ 2b"], type: "split" },
    { text: "–ò—Ç–æ–≥–æ–≤—ã–µ —Å–∏–º–ø—Ç–æ–º—ã", type: "result" }
  ],

  // –ß—Ç–æ –≤ –ø–æ—Ä—è–¥–∫–µ (–ø–æ–∑–∏—Ç–∏–≤–Ω—ã–µ –Ω–∞—Ö–æ–¥–∫–∏)
  goodNews: [
    "–ü–æ–∫–∞–∑–∞—Ç–µ–ª—å X –≤ –Ω–æ—Ä–º–µ",
    "–û—Ä–≥–∞–Ω Y –±–µ–∑ –ø–∞—Ç–æ–ª–æ–≥–∏–π"
  ],

  // –ö–ª—é—á–µ–≤—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ –∏–∑ –∞–Ω–∞–ª–∏–∑–æ–≤
  keyIndicators: [
    {
      name: "–ù–∞–∑–≤–∞–Ω–∏–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª—è",
      value: 36.1,
      unit: "–º–∫–º–æ–ª—å/–ª",
      status: "critical", // "critical" | "warning" | "normal"
      ref: "–Ω–æ—Ä–º–∞ –¥–æ 22",
      description: "–ö—Ä–∞—Ç–∫–æ–µ –ø–æ—è—Å–Ω–µ–Ω–∏–µ"
    }
  ],

  // –ü–æ–¥—Ä–æ–±–Ω—ã–π —Ä–∞–∑–±–æ—Ä –ø–æ —Å–∏—Å—Ç–µ–º–∞–º –æ—Ä–≥–∞–Ω–∏–∑–º–∞
  detailSections: [
    {
      id: "bile",
      icon: "üü°",
      title: "–ñ–µ–ª—á–Ω—ã–π –ø—É–∑—ã—Ä—å –∏ –ø–µ—á–µ–Ω—å",
      badge: "–ö–ª—é—á–µ–≤–æ–µ",
      badgeType: "critical", // "critical" | "warning" | "normal"
      infoBox: {
        title: "üí° –ß—Ç–æ —ç—Ç–æ –∑–Ω–∞—á–∏—Ç",
        text: "–ü–æ—è—Å–Ω–µ–Ω–∏–µ –¥–ª—è –ø–∞—Ü–∏–µ–Ω—Ç–∞ –ø—Ä–æ—Å—Ç—ã–º —è–∑—ã–∫–æ–º"
      },
      content: "HTML-–∫–æ–Ω—Ç–µ–Ω—Ç —Å <strong>–≤—ã–¥–µ–ª–µ–Ω–∏–µ–º</strong> –≤–∞–∂–Ω–æ–≥–æ",
      symptoms: ["–°–∏–º–ø—Ç–æ–º –∏–∑ –æ–ø—Ä–æ—Å–Ω–∏–∫–∞ 1", "–°–∏–º–ø—Ç–æ–º 2"]
    }
  ],

  // –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã –¥–µ–π—Å—Ç–≤–∏–π (—á—Ç–æ –¥–µ–ª–∞—Ç—å)
  priorities: [
    {
      num: 1,
      title: "–ü–µ—Ä–≤—ã–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç",
      desc: "–û–ø–∏—Å–∞–Ω–∏–µ —á—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å"
    }
  ],

  // –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∞–Ω–∞–ª–∏–∑—ã
  additionalTests: [
    "–ú–∞–≥–Ω–∏–π (RBC)",
    "–¶–∏–Ω–∫",
    "–í–∏—Ç–∞–º–∏–Ω B12"
  ],

  // –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ
  meta: {
    generatedAt: "2026-01-10T20:00:00Z",
    model: "claude-sonnet-4-20250514",
    confidence: "high" // "high" | "medium" | "low"
  }
};

/**
 * –ü—Ä–∏–º–µ—Ä –ø—Ä–æ–º–ø—Ç–∞ –¥–ª—è Claude
 */
export const ANALYSIS_PROMPT_TEMPLATE = `
–¢—ã ‚Äî –æ–ø—ã—Ç–Ω—ã–π –≤—Ä–∞—á-–¥–∏–∞–≥–Ω–æ—Å—Ç. –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π –¥–∞–Ω–Ω—ã–µ –æ–ø—Ä–æ—Å–Ω–∏–∫–∞ –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∞–Ω–∞–ª–∏–∑–æ–≤.

## –î–∞–Ω–Ω—ã–µ –æ–ø—Ä–æ—Å–Ω–∏–∫–∞:
{surveyAnswers}

## –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏:
1. –ò–∑—É—á–∏ –≤—Å–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∞–Ω–∞–ª–∏–∑–æ–≤
2. –°–æ–ø–æ—Å—Ç–∞–≤—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∞–Ω–∞–ª–∏–∑–æ–≤ —Å —Å–∏–º–ø—Ç–æ–º–∞–º–∏ –∏–∑ –æ–ø—Ä–æ—Å–Ω–∏–∫–∞
3. –ù–∞–π–¥–∏ –ø—Ä–∏—á–∏–Ω–Ω–æ-—Å–ª–µ–¥—Å—Ç–≤–µ–Ω–Ω—ã–µ —Å–≤—è–∑–∏ –º–µ–∂–¥—É –ø–æ–∫–∞–∑–∞—Ç–µ–ª—è–º–∏
4. –í—ã–¥–µ–ª–∏ 3 –≥–ª–∞–≤–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã
5. –°–æ—Å—Ç–∞–≤—å –ø–ª–∞–Ω –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π

## –§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞:
–í–µ—Ä–Ω–∏ –¢–û–õ–¨–ö–û –≤–∞–ª–∏–¥–Ω—ã–π JSON –±–µ–∑ markdown-—Ä–∞–∑–º–µ—Ç–∫–∏, —Å—Ç—Ä–æ–≥–æ –ø–æ —Å–ª–µ–¥—É—é—â–µ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–µ:

{
  "stats": { "critical": —á–∏—Å–ª–æ, "warning": —á–∏—Å–ª–æ, "normal": —á–∏—Å–ª–æ },
  "summary": "–ö—Ä–∞—Ç–∫–æ–µ —Ä–µ–∑—é–º–µ –≤ 1-2 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è",
  "mainFindings": [...],
  "connectionChain": [...],
  "goodNews": [...],
  "keyIndicators": [...],
  "detailSections": [...],
  "priorities": [...],
  "additionalTests": [...],
  "meta": { "confidence": "high|medium|low" }
}

–í–ê–ñ–ù–û:
- –ü–∏—à–∏ –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ
- –ò—Å–ø–æ–ª—å–∑—É–π –ø—Ä–æ—Å—Ç–æ–π —è–∑—ã–∫, –ø–æ–Ω—è—Ç–Ω—ã–π –ø–∞—Ü–∏–µ–Ω—Ç—É
- –°–≤—è–∑—ã–≤–∞–π –Ω–∞—Ö–æ–¥–∫–∏ —Å —Å–∏–º–ø—Ç–æ–º–∞–º–∏ –∏–∑ –æ–ø—Ä–æ—Å–Ω–∏–∫–∞
- –í keyIndicators —É–∫–∞–∑—ã–≤–∞–π —Ä–µ–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –∏–∑ –∞–Ω–∞–ª–∏–∑–æ–≤
- –≠—Ç–æ –ù–ï –¥–∏–∞–≥–Ω–æ–∑, –∞ –ø–æ–º–æ—â—å –≤ –ø–æ–Ω–∏–º–∞–Ω–∏–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
`;
